package shocky3.ident;

import pl.shockah.Box;
import shocky3.BotManager;

public abstract class IdentityHandler {
	public final String id;
	protected Box<Boolean> available = null;
	
	public IdentityHandler(String id) {
		this.id = id;
	}
	
	public final boolean isAvailable() {
		if (available == null) {
			available = new Box<>(checkAvailability());
		}
		return available.value;
	}
	
	public abstract boolean checkAvailability();
	public abstract String account(BotManager bm, String user);
}