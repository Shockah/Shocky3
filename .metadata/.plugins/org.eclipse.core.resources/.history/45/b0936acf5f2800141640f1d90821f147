package shocky3;

import java.io.File;
import pl.shockah.json.JSONObject;

public final class PluginInfo {
	public final Shocky botApp;
	public final PluginManager manager;
	public final File pluginFile;
	public JSONObject jInfo = null;
	protected Plugin plugin = null;
	
	public PluginInfo(PluginManager manager, File pluginFile) {
		this.botApp = manager.botApp;
		this.manager = manager;
		this.pluginFile = pluginFile;
	}
	
	public final String internalName() {return jInfo.getString("internalName");}
	public final String name() {return jInfo.contains("name") ? jInfo.getString("name") : null;}
	public final String version() {return jInfo.contains("version") ? jInfo.getString("version") : null;}
	public final String author() {return jInfo.contains("author") ? jInfo.getString("author") : null;}
	
	public final void enable() {
		if (enabled()) return;
		manager.load(this);
	}
	public final void disable() {
		if (!enabled()) return;
		manager.unload(this);
	}
	public final boolean enabled() {
		return plugin != null;
	}
}