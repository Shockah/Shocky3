package sconsole;

import java.io.PrintStream;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

public class ConsoleViewOutput extends ConsoleView {
	public final PrintStream printStream = new PrintStream(){
		
	};
	public List<String> lines = Collections.synchronizedList(new ArrayList<String>());
	public StringBuffer sb = new StringBuffer();
	
	public ConsoleViewOutput(ConsoleThread thread) {
		super(thread);
	}
	
	public void draw(ConsoleViewSplitter.Side side) {
		int yy = rect.y + rect.h - 1;
		if (sb.length() > 0) rect.draw(0, yy--, sb.toString());
		
		while (lines.size() > 500) lines.remove(0);
		for (int i = lines.size() - 1; i >= 0; i--) {
			rect.draw(0, yy--, lines.get(i));
			if (yy < rect.y) break;
		}
	}
}